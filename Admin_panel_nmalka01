local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")

-- Create ScreenGui
local adminGui = Instance.new("ScreenGui")
adminGui.Name = "AdminPanel"
adminGui.Parent = player:WaitForChild("PlayerGui")
adminGui.ResetOnSpawn = false

-- Main Frame (Auto Size)
local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0.35, 0, 0.45, 0) -- Scales with screen
mainFrame.Position = UDim2.new(0.325, 0, 0.275, 0)
mainFrame.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
mainFrame.BackgroundTransparency = 0.4 -- Semi-transparent
mainFrame.BorderSizePixel = 0
mainFrame.Draggable = true
mainFrame.Active = true
mainFrame.Visible = false
mainFrame.Parent = adminGui

-- UICorner for smooth design
local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0.1, 0)
corner.Parent = mainFrame

-- UIStroke for outline
local stroke = Instance.new("UIStroke")
stroke.Thickness = 1
stroke.Color = Color3.fromRGB(180, 180, 180)
stroke.Parent = mainFrame

-- UIListLayout for auto button arrangement
local layout = Instance.new("UIListLayout")
layout.Parent = mainFrame
layout.FillDirection = Enum.FillDirection.Vertical
layout.Padding = UDim.new(0.02, 0)

-- Admin Title
local titleLabel = Instance.new("TextLabel")
titleLabel.Size = UDim2.new(1, 0, 0.1, 0)
titleLabel.Text = "Admin panel by nmalka01"
titleLabel.TextScaled = true
titleLabel.BackgroundTransparency = 1
titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
titleLabel.Font = Enum.Font.GothamBold
titleLabel.Parent = mainFrame

-- Create Button Function (Auto-Scales)
local function createButton(text, callback)
    local button = Instance.new("TextButton")
    button.Size = UDim2.new(0.9, 0, 0.12, 0) -- Auto-size for devices
    button.Text = text
    button.TextScaled = true
    button.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    button.TextColor3 = Color3.fromRGB(255, 255, 255)
    button.Parent = mainFrame
    button.MouseButton1Click:Connect(callback)

    -- Button UICorner
    local buttonCorner = Instance.new("UICorner")
    buttonCorner.CornerRadius = UDim.new(0.1, 0)
    buttonCorner.Parent = button

    -- Button UIStroke
    local buttonStroke = Instance.new("UIStroke")
    buttonStroke.Thickness = 1
    buttonStroke.Color = Color3.fromRGB(180, 180, 180)
    buttonStroke.Parent = button
end

-- Fly Toggle
local flying = false
function fly()
    local root = character:FindFirstChild("HumanoidRootPart")
    if not root then return end
    flying = not flying

    if flying then
        local bodyVelocity = Instance.new("BodyVelocity")
        bodyVelocity.Velocity = Vector3.new(0, 50, 0)
        bodyVelocity.MaxForce = Vector3.new(4000, 4000, 4000)
        bodyVelocity.Name = "FlyVelocity"
        bodyVelocity.Parent = root
    else
        local bv = root:FindFirstChild("FlyVelocity")
        if bv then bv:Destroy() end
    end
end
createButton("Toggle Fly", fly)

-- Speed Controls
createButton("Speed Boost (100)", function() humanoid.WalkSpeed = 100 end)
createButton("Reset Speed (16)", function() humanoid.WalkSpeed = 16 end)

-- Jump Controls
createButton("Jump Power (150)", function() humanoid.JumpPower = 150 end)
createButton("Reset Jump Power (50)", function() humanoid.JumpPower = 50 end)

-- Kill Player
createButton("Kill", function() humanoid.Health = 0 end)

-- Lag Server (⚠️ DANGER)
createButton("Lag Server (⚠️)", function() while true do end end)

-- Toggle Button
local toggleButton = Instance.new("TextButton")
toggleButton.Size = UDim2.new(0.12, 0, 0.06, 0) -- Auto-size
toggleButton.Position = UDim2.new(0.85, 0, 0.05, 0) -- Top-right
toggleButton.Text = "Admin"
toggleButton.TextScaled = true
toggleButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
toggleButton.Parent = adminGui
toggleButton.MouseButton1Click:Connect(function()
    mainFrame.Visible = not mainFrame.Visible
end)

-- Toggle Button UICorner
local toggleCorner = Instance.new("UICorner")
toggleCorner.CornerRadius = UDim.new(0.1, 0)
toggleCorner.Parent = toggleButton
